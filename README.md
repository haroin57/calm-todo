# Calm Todo

シンプルで美しいオフラインタスク管理アプリ。アカウント登録不要で、データは全てローカルに保存されます。

---

## 特徴

### 完全オフライン・プライバシー重視
- データは全てローカルストレージに保存
- インターネット接続不要（AI機能を除く）
- アカウント登録・ログイン不要

### システムトレイ常駐
- ウィンドウを閉じてもバックグラウンドで動作
- トレイアイコンから素早くタスク追加
- 通知でリマインダーをお知らせ

---

## 主な機能

### タスク管理

| 機能 | 説明 |
|------|------|
| **優先度** | `P1`（最高）〜 `P4`（最低）の4段階。クリックで切り替え |
| **期間** | `今日` / `1週間` / `1ヶ月` / `計画` でタスクを整理 |
| **期日** | 📅 ボタンで期日を設定。過ぎたタスクは赤くハイライト |
| **ラベル** | `#仕事` `#個人` など自由にタグ付け。クリックでフィルタ |
| **サブタスク** | 親タスクの下に子タスクを追加。階層管理 |
| **繰り返し** | 毎日・毎週・毎月など、タスクの自動再生成 |

### 自然言語入力

タスク入力時に自然言語で期日や優先度を指定できます：

```
明日までにレポートを提出 #仕事
来週月曜 会議の準備 P1
毎週金曜 週報を書く
```

### AI計画生成（Plan）

「計画」タブでは、目標を入力するとAIが達成計画を自動生成します。

**生成される計画の内容：**
- 現在地点・到達目標・ギャップ分析
- 達成可能性の数値検証（FEASIBLE / CHALLENGING / INFEASIBLE）
- 想定リスクとコスト
- 具体的なタスクリスト（優先度・日数・所要時間付き）
- おすすめリソース（書籍・ツール・サービス）
- 成功のためのTips

**対応AIプロバイダー：**
- OpenAI（GPT-5.2, GPT-4.1 Mini 等）
- Claude（Opus 4.5, Sonnet 4 等）
- Gemini（2.5 Flash, 2.0 Flash 等）

**ウェブ検索連携：**
Tavily APIキーを設定すると、計画生成時にウェブ検索で最新情報を取得し、より実践的な計画を作成します。

---

## リマインダー

| 種類 | 説明 |
|------|------|
| **単発リマインダー** | 指定した日時に1回通知 |
| **週間リマインダー** | 毎週決まった曜日・時間に通知（複数時間設定可） |
| **期日通知** | 期日当日に自動で通知 |

### 専属リマインダー（AI人格）

AIキャラクターがタスクをリマインドしてくれる機能です。

**プリセット人格：**
| プリセット | 説明 |
|------------|------|
| **かなえ（デフォルト）** | 感情を表に出さないけど好意を抱いている後輩 |
| **執事** | 丁寧で礼儀正しい執事風 |
| **友達** | フレンドリーでカジュアル |
| **+ プリセットを追加** | 自分だけのオリジナル人格を作成 |

---

## AI設定

設定画面でAPIキーを登録すると、以下の機能が使えます：

| 機能 | 必要なAPIキー |
|------|---------------|
| タスク分解 | OpenAI / Claude / Gemini のいずれか |
| 計画生成 | OpenAI / Claude / Gemini のいずれか |
| ウェブ検索 | Tavily（任意） |
| 専属リマインダー | OpenAI / Claude / Gemini のいずれか |
| Discord通知 | Discord Bot Token |

### モデル選択

各プロバイダーで使用するモデルを選択できます：

**OpenAI:**
- GPT-5.2（最新・最高性能）
- GPT-5-mini（高性能・コスパ◎）
- GPT-4.1-mini（推奨・安定）
- o4-mini（推論・コード特化）

**Claude:**
- Claude Opus 4.5（最新・最高性能）
- Claude Sonnet 4（推奨・安定）
- Claude Haiku 4.5（高速）

**Gemini:**
- Gemini 2.5 Flash（最新・推論強化）
- Gemini 2.0 Flash（推奨・安定）
- Gemini 2.5 Pro（最高性能）

---

## カレンダー連携

タスクを外部カレンダーアプリと連携できます。

### 対応カレンダー

- **Googleカレンダー**: 直接追加ボタンで一括登録
- **Outlook**: ICSファイルをインポート
- **Windowsカレンダー**: ICSファイルをインポート
- **Appleカレンダー**: ICSファイルをインポート

---

## バックアップ

### 自動バックアップ
- データは `C:/CalmTodoBackup/backup.json` に自動保存
- アプリ起動時に自動で読み込み

### 手動バックアップ
- **保存**: 設定 → バックアップ → 「バックアップを保存」
- **復元**: 設定 → バックアップ → 「バックアップから復元」

---

## キーボードショートカット

| キー | 機能 |
|------|------|
| `n` | 新規タスク入力にフォーカス |
| `?` | ヘルプを表示 |
| `Esc` | モーダルを閉じる |
| `Ctrl+Z` | 直前の操作を取り消し（Undo） |
| `Ctrl+Y` | 取り消した操作をやり直し（Redo） |

---

## 技術スタック

| カテゴリ | 技術 |
|----------|------|
| **フロントエンド** | React 18, TypeScript, Vite |
| **デスクトップ** | Tauri 2.x (Rust) |
| **状態管理** | React Hooks + localStorage |
| **アニメーション** | Framer Motion |
| **AI** | OpenAI / Claude / Gemini API |
| **検索** | Tavily API |
| **通知** | Windows Toast Notifications, Discord |

---

## インストール

### 必要環境

- Node.js 18+
- Rust (Tauri用)
- Windows 10/11

### 開発環境のセットアップ

```bash
# 1. リポジトリをクローン
git clone https://github.com/haroin57/calm-todo.git
cd calm-todo

# 2. 依存関係をインストール
npm install

# 3. 開発サーバーを起動
npm run dev          # Web開発
npm run tauri dev    # デスクトップ開発
```

### ビルド

```bash
npm run build        # Webビルド
npm run tauri build  # デスクトップビルド
```

---

## ファイル構成

```
calm-todo/
├── src/
│   ├── App.tsx              # メインアプリケーション
│   ├── components/          # UIコンポーネント
│   │   └── settings/        # 設定画面
│   ├── lib/                 # ユーティリティ
│   │   ├── openai.ts        # OpenAI API連携
│   │   ├── claude.ts        # Claude API連携
│   │   ├── gemini.ts        # Gemini API連携
│   │   ├── tavily.ts        # ウェブ検索
│   │   ├── prompts.ts       # AIプロンプト定義
│   │   ├── parseNaturalLanguage.ts  # 自然言語解析
│   │   └── kanaePersona.ts  # AIペルソナ設定
│   ├── services/            # バックグラウンドサービス
│   │   └── reminder.ts      # リマインダー管理・AI設定
│   └── styles/              # CSS
├── src-tauri/               # Tauriバックエンド (Rust)
│   ├── src/lib.rs           # Rustコマンド
│   └── Cargo.toml           # Rust依存関係
└── package.json
```

---

## ライセンス

MIT
